local Rayfield = loadstring(game:HttpGet("https://sirius.menu/rayfield"))()

local Window = Rayfield:CreateWindow({
    Name = "VampireHub",
    LoadingTitle = "Loading VampireHub...",
    LoadingSubtitle = "by Kurayami",
    ConfigurationSaving = {
        Enabled = true,
        FolderName = "VampireConfig",
        FileName = "Vampire_UI"
    },
    Discord = {
        Enabled = true,
        Invite = "xqbpKmSs",
        RememberJoins = true
    },
    KeySystem = true,
    KeySettings = {
        Title = "VampireHub - Key System",
        Subtitle = "Submit your key to unlock",
        Note = "Get your key in our Discord:\nhttps://discord.gg/xqbpKmSs",
        FileName = "VampireKey",
        SaveKey = true,
        GrabKeyFromSite = false,
        Key = {"Vampiretest"}
    }
})

local CombatTab = Window:CreateTab("Combat", 4483362458)
local VisualTab = Window:CreateTab("Visual", 4483362458)
local MovementTab = Window:CreateTab("Movement", 4483362458)
local MiscTab = Window:CreateTab("Misc", 4483362458)

local function AddToggle(tab, name, key)
    tab:CreateToggle({
        Name = name,
        CurrentValue = getgenv().Vampire[key],
        Callback = function(v)
            getgenv().Vampire[key] = v
        end
    })
end

local function AddSlider(tab, name, key, min, max)
    tab:CreateSlider({
        Name = name,
        Range = {min, max},
        Increment = 1,
        Suffix = "Â°",
        CurrentValue = getgenv().Vampire[key],
        Callback = function(v)
            getgenv().Vampire[key] = v
        end
    })
end

for _, key in ipairs({
    "AutoParry", "SpamParry", "TriggerBot", "SlashDetect", "InfinityDetect",
    "PhantomDetect", "AntiStun", "AutoAbility", "ReflectAI", "PanicParry",
    "AutoQ", "SmartCooldown"
}) do
    AddToggle(CombatTab, key, key)
end

for _, key in ipairs({"ESP", "BallESP", "HighlightPlayers", "ShowPingFPS"}) do
    AddToggle(VisualTab, key, key)
end
AddToggle(VisualTab, "CustomFOV", "CustomFOV")
AddSlider(VisualTab, "FOV", "FOV", 30, 120)

for _, key in ipairs({"Fly", "Spinbot", "Strafe", "CurveDetect"}) do
    AddToggle(MovementTab, key, key)
end

for _, key in ipairs({"FakeHeadless", "FakeKorblox"}) do
    AddToggle(MiscTab, key, key)
end

MiscTab:CreateButton({
    Name = "Save Config",
    Callback = function()
        local HttpService = game:GetService("HttpService")
        writefile("VampireConfig/VampireSettings.json", HttpService:JSONEncode(getgenv().Vampire))
    end
})